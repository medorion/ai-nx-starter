## Web UI Technical

### Naming Conventions (x)

- Always use descriptive names + Angular-recommended suffixes (Component, Service, Directive, Pipe, Module).
- Use consistent file naming (kebab-case).
- Keep entities/DTOs/models clearly named with suffixes (Dto, Entity, Model).
- Use feature-based folder organization (instead of type-based everywhere).
  Example:

```
   operation-list.component.ts
   members.module.ts
   member.service.ts
```

### Settings (x)

- AppConfigService is used for configuration of the app.
- its use is located in api-client package
- Config file is located in /apps/web-ui/src/assets/config.json
- It will be generated by docker ENV variables

### Styling (x)

- Use the less files for styling.
- Avoid inline styles.
- Use as much as possible, ng-zorro built in styles and classes.
- HTML base elements styles can be overridden only in apps/web-ui/src/assets/styles/theme.less and corresponding dark theme
- Do not modify font or background colors in less files, all colors are defined in global styles.

### Project Structure

- Use feature-based folder organization (instead of type-based everywhere).
- TODO: display folder stucture

### Form validation

- Should be done using class-validator decorators. and built in Angular validators.
- Use FormGroupService for handling form validation and example in features/zorro-components/forms

### List and Item

- Use nz-table for list and nz-card for item.
- Example in features/zorro-components/list-and-item

### Logging

- Wrap logging in a LoggerService.
- Configure log levels via environments.
- Integrate with Angular’s ErrorHandler for global crash reporting.
- Optionally send important logs to a backend/SaaS logger.
- Avoid logging sensitive info.

### Global Error Handling

- Optionally report to backend/Sentry

### Alerting, Messaging, Confirmation

- Quick feedback → MessageService (wraps NzMessageService)
- Feedback with context/details → NotificationService (wraps NzNotificationService)
- Static inline warnings/errors → <nz-alert>
- For confirmation use nz-popconfirm
- Critical confirmation / blocking errors → NzModalService

### Dialogs and Modals

- TODO Use NzModalService for dialogs and modals.

### Http Handeling

- Use Angular's HttpClient with interceptors for HTTP requests.
- TODO Dedicated services for HTTP nest controllers, create tool to generate code.

### State Management

- For our purpose better to use service with BehaviorSubject or similar.
  Example:

```
import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';

export interface User {
  id: number;
  name: string;
}

@Injectable({ providedIn: 'root' })
export class UserStoreService {
  private readonly _user$ = new BehaviorSubject<User | null>(null);

  // Expose as observable (read-only)
  readonly user$ = this._user$.asObservable();

  // Getter for snapshot
  get user(): User | null {
    return this._user$.value;
  }

  // Mutations
  setUser(user: User) {
    this._user$.next(user);
  }

  clearUser() {
    this._user$.next(null);
  }
}
```

### Available Decorators

Use Decorators for loggings and utilities.

- @catchError()
- @log()
- @measure()
- @debounce(300)
- @ngagement() , TODO
- @requireRole('admin') ## TODO Implement
- @minFeatureFlag('some-feature') ## TODO Implement nice to gave

### Available directives

- appHideInProd TODO , check
- TODO role directive

### Available components

- Bussy indicator
- Display Flow (for async operations)
- Standardise context menu

### Available utils

- sleep function

### Multi language i8n

- By default we use en_US
- Currently decided to use en_US only

### Routing

- See example in features/zorro-components/list-item

### Adding New UI Features

When creating a new UI feature, **ALWAYS** ensure it's accessible via routing and navigation:

1. **Create feature module structure:**
   - `[feature].module.ts` - Feature module declaration
   - `[feature]-routing.module.ts` - Feature-level routes
   - Component directories with necessary components

2. **Register routing:**
   - Add route to the appropriate parent routing module
   - If the location is ambiguous, **ask the user where the feature should be accessible** (e.g., "Should this be under /backoffice/, /examples/, or a top-level route?")
   - Use lazy-loading for feature modules

3. **Add navigation access:**
   - Add menu item/link to `header.component.html` or appropriate navigation component
   - Use appropriate NG-ZORRO icon that matches the feature purpose
   - If unclear where to add navigation, **ask the user** (e.g., "Should I add a menu item under the Backoffice submenu, Examples submenu, or create a new top-level menu item?")

4. **Example patterns:**
   - **Backoffice features** (e.g., users, teams): Registered in `backoffice-routing.module.ts`, menu item in "Backoffice" submenu
   - **Example/demo features**: Registered in `examples-routing.module.ts`, menu item in "Examples" submenu
   - Reference existing features for structure

**RULE:** Never create a UI feature without routing and navigation access unless explicitly told otherwise by the user.

### Minimal feature flag
