<div class="solution-page-container">
  <!-- Quick Actions -->
  <div class="quick-actions">
    <nz-card nzTitle="Quick Actions" class="actions-card">
      <div class="action-buttons">
        <button nz-button nzType="primary" routerLink="../event-scheduler">
          <nz-icon nzType="plus"></nz-icon>
          Schedule Event
        </button>

        <button nz-button nzType="default" routerLink="../messages">
          <nz-icon nzType="message"></nz-icon>
          Send Message
        </button>

        <button nz-button nzType="default" routerLink="../event-tracking">
          <nz-icon nzType="line-chart"></nz-icon>
          View Reports
        </button>

        <button nz-button nzType="default" routerLink="../events-definition">
          <nz-icon nzType="setting"></nz-icon>
          Configure Events
        </button>
      </div>
    </nz-card>
  </div>
  <!-- <div class="overview-header">
    <h2>Solution Overview</h2>
    <p class="overview-subtitle">Monitor your solution performance and upcoming activities</p>
  </div> -->

  <!-- Statistics Cards -->
  <div class="stats-grid">
    <nz-card class="stat-card">
      <div class="card-header">
        <img src="assets/images/medorion-orange-circles.svg" alt="Orange circles" class="card-icon" />
      </div>
      <nz-statistic [nzValue]="stats.totalEvents" nzTitle="Total Events" nzSuffix="scheduled" class="text-md-orange"> </nz-statistic>
    </nz-card>

    <nz-card class="stat-card">
      <div class="card-header">
        <img src="assets/images/medorion-green-circles.svg" alt="Green circles" class="card-icon" />
      </div>
      <nz-statistic [nzValue]="stats.activeChannels" nzTitle="Active Channels" nzSuffix="running" class="text-md-green"> </nz-statistic>
    </nz-card>

    <nz-card class="stat-card">
      <div class="card-header">
        <img src="assets/images/medorion-blue-circles.svg" alt="Blue circles" class="card-icon" />
      </div>
      <nz-statistic [nzValue]="stats.messagesThisMonth" nzTitle="Messages This Month" class="text-md-blue"> </nz-statistic>
    </nz-card>

    <nz-card class="stat-card">
      <div class="card-header">
        <img src="assets/images/medorion-cyan-circles.svg" alt="Cyan circles" class="card-icon" />
      </div>
      <nz-statistic [nzValue]="stats.successRate" nzTitle="Success Rate" nzSuffix="%" class="text-md-cyan"> </nz-statistic>
    </nz-card>
  </div>

  <!-- Content Grid -->
  <div class="content-grid">
    <!-- Upcoming Events -->
    <div class="content-section">
      <nz-card nzTitle="Upcoming Events" class="section-card">
        <ng-template #extra>
          <a routerLink="../event-scheduler">View All</a>
        </ng-template>

        <nz-list nzSize="small" *ngIf="upcomingEvents.length > 0; else noEvents">
          <nz-list-item *ngFor="let event of upcomingEvents">
            <nz-list-item-meta>
              <nz-list-item-meta-avatar>
                <nz-icon [nzType]="getEventIcon(event.type)" nzTheme="outline" class="event-icon"></nz-icon>
              </nz-list-item-meta-avatar>

              <nz-list-item-meta-title>
                <strong>{{ event.title }}</strong>
              </nz-list-item-meta-title>

              <nz-list-item-meta-description>
                {{ event.description }}
                <br />
                <small class="event-date">{{ event.date | date: 'medium' }}</small>
              </nz-list-item-meta-description>
            </nz-list-item-meta>

            <ng-template #nzExtra>
              <nz-tag [nzColor]="event.daysUntil <= 2 ? 'red' : event.daysUntil <= 5 ? 'orange' : 'blue'">
                {{ event.daysUntil }} day{{ event.daysUntil === 1 ? '' : 's' }}
              </nz-tag>
            </ng-template>
          </nz-list-item>
        </nz-list>

        <ng-template #noEvents>
          <nz-empty nzNotFoundImage="simple" nzNotFoundContent="No upcoming events"></nz-empty>
        </ng-template>
      </nz-card>
    </div>

    <!-- Available Channels -->
    <div class="content-section">
      <nz-card nzTitle="Communication Channels" class="section-card">
        <ng-template #extra>
          <a>Configure</a>
        </ng-template>

        <nz-list nzSize="small">
          <nz-list-item *ngFor="let channel of channels">
            <nz-list-item-meta>
              <nz-list-item-meta-avatar>
                <nz-icon [nzType]="getChannelIcon(channel.type)" nzTheme="outline" class="channel-icon"></nz-icon>
              </nz-list-item-meta-avatar>

              <nz-list-item-meta-title>
                {{ channel.name }}
              </nz-list-item-meta-title>

              <nz-list-item-meta-description>
                <div class="channel-details">
                  <span class="sent-count">{{ channel.totalSent }} messages sent</span>
                  <span *ngIf="channel.lastUsed" class="last-used"> Last used: {{ channel.lastUsed | date: 'short' }} </span>
                  <span *ngIf="!channel.lastUsed" class="last-used">Never used</span>
                </div>
              </nz-list-item-meta-description>
            </nz-list-item-meta>

            <ng-template #nzExtra>
              <nz-tag [nzColor]="getChannelStatusColor(channel.status)">
                {{ channel.status | titlecase }}
              </nz-tag>
            </ng-template>
          </nz-list-item>
        </nz-list>
      </nz-card>
    </div>
  </div>
</div>
