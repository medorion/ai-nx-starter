{
  "version": "1.0",
  "description": "Skill activation triggers for Claude Code. Controls when skills automatically suggest or block actions.",
  "skills": {
    "backend-dev-guidelines": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Comprehensive backend development guide for Node.js/NestJS/TypeScript microservices. Covers layered architecture (controllers â†’ services â†’ dbservice), error handling, performance monitoring, testing strategies.",
      "promptTriggers": {
        "keywords": [
          "backend",
          "backend development",
          "microservice",
          "NestJS",
          "controller",
          "service",
          "repository",
          "DbService",
          "route",
          "routing",
          "API",
          "CRUD",
          "endpoint",
          "middleware",
          "validation",
          "web-server",
          "TypeORM",
          "entity",
          "database access",
          "data-access-layer",
          "coverage",
          "testing",
          "unit test",
          "integration test",
          "authentication",
          "authorization",
          "auth",
          "login",
          "logout",
          "session",
          "SessionInfo",
          "RBAC",
          "guard",
          "decorator",
          "@Authorize",
          "Redis",
          "bearer token",
          "JWT",
          "security",
          "input validation",
          "class-validator",
          "DTO",
          "mapper",
          "bcrypt",
          "password hashing",
          "CORS",
          "rate limiting",
          "XSS",
          "injection",
          "IDOR",
          "mass assignment",
          "Swagger",
          "API documentation",
          "error handling",
          "exception",
          "logging",
          "Winston",
          "dependency injection",
          "module",
          "provider"
        ],
        "intentPatterns": [
          "(create|add|implement|build).*?(route|endpoint|API|controller|service|repository|DbService)",
          "(fix|handle|debug).*?(error|exception|backend)",
          "(add|implement).*?(middleware|validation|error.*?handling)",
          "(organize|structure|refactor).*?(backend|service|API)",
          "(how to|best practice).*?(backend|mapper|controller|service|DbService)",
          "(implement|add|create).*?(auth|login|logout|session|guard)",
          "(protect|secure).*?(endpoint|route|API)",
          "(check|validate).*?(permission|role|authorization)",
          "(add|implement|check).*?(security|validation|sanitization)",
          "(prevent|fix).*?(injection|XSS|CSRF|vulnerability)",
          "(hash|encrypt).*?(password|secret|token)",
          "(create|add).*?(DTO|entity|mapper)",
          "(write|add|create).*?(test|unit.*?test|integration.*?test)",
          "(document|add.*?swagger).*?(API|endpoint)",
          "(log|trace|debug).*?(error|request|response)"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "apps/web-server/src/**/*.ts",
          "packages/types/**/*.ts",
          "packages/data-access-layer/**/*.ts",
          "packages/backend-common/**/*.ts"
        ],
        "pathExclusions": ["**/node_modules/**", "**/dist/**", "**/*.spec.ts"],
        "contentPatterns": [
          "@Controller\\(",
          "@(Get|Post|Put|Delete|Patch|Options)\\(",
          "@Injectable\\(\\)",
          "@Module\\(",
          "export.*Controller",
          "export.*Service",
          "export.*DbService",
          "export.*Mapper",
          "export.*Dto",
          "export.*Entity",
          "@InjectRepository\\(",
          "MongoRepository<",
          "Repository<",
          "TypeOrmModule\\.forFeature",
          "@ApiOperation\\(",
          "@ApiTags\\(",
          "@ApiResponse\\(",
          "@ApiBearerAuth\\(",
          "@Authorize\\(",
          "@IgnoreAuthorization\\(",
          "@Session\\(",
          "SessionInfo",
          "SessionService",
          "AuthorizeGuard",
          "Test\\.createTestingModule",
          "describe\\(",
          "it\\(",
          "expect\\(",
          "jest\\.fn\\(",
          "jest\\.mock\\(",
          "class-validator",
          "@Is(Email|String|Number|Array|Enum|Optional|Date|Boolean)\\(",
          "@Min(Length)?\\(",
          "@Max(Length)?\\(",
          "@ValidateNested\\(",
          "@Type\\(",
          "ValidationPipe",
          "bcrypt\\.(hash|compare)",
          "@ai-nx-starter/(types|backend-common|data-access-layer)",
          "this\\.logger\\.(log|error|warn|debug)",
          "throw new.*Exception\\("
        ]
      }
    }
  },
  "frontend-dev-guidelines": {
    "type": "guardrail",
    "enforcement": "block",
    "priority": "high",
    "description": "Angular 19 frontend development patterns with NG-ZORRO, RxJS, and LESS styling",
    "promptTriggers": {
      "keywords": [
        "frontend",
        "frontend development",
        "component",
        "angular component",
        "standalone component",
        "UI",
        "interface",
        "page",
        "modal",
        "dialog",
        "form",
        "reactive form",
        "table",
        "styling",
        "LESS",
        "Angular",
        "NG-ZORRO",
        "antd",
        "RxJS",
        "Observable",
        "BehaviorSubject",
        "routing",
        "lazy loading",
        "OnPush",
        "change detection",
        "performance",
        "trackBy",
        "web-ui",
        "api-client",
        "data fetching",
        "state management",
        "template",
        "directive",
        "pipe",
        "guard",
        "interceptor",
        "signal",
        "computed"
      ],
      "intentPatterns": [
        "(create|add|make|build|update|modify|edit).*?(component|page|feature|UI|modal|dialog|form|table)",
        "(how to|best practice).*?(component|angular|ng-zorro|rxjs|observable)",
        "(style|design|layout).*?(component|UI|LESS|theme)",
        "(fetch|load|get).*?(data|API|users|posts)",
        "(add|implement|create).*?(routing|route|lazy.*?load)",
        "(optimize|improve).*?(performance|OnPush|trackBy)",
        "(handle|show).*?(loading|error|state)",
        "(use|implement).*?(BehaviorSubject|Observable|service)",
        "(create|build).*?(form|validation|reactive.*?form)",
        "(add|use).*?(nz-|ng-zorro|antd)"
      ]
    },
    "fileTriggers": {
      "pathPatterns": ["apps/web-ui/src/**/*.ts", "apps/web-ui/src/**/*.html", "apps/web-ui/src/**/*.less", "packages/api-client/**/*.ts"],
      "pathExclusions": ["**/*.spec.ts", "**/*.e2e.ts", "**/node_modules/**", "**/dist/**", "**/angular.json", "**/tsconfig*.json"],
      "contentPatterns": [
        "@Component\\(",
        "standalone:\\s*true",
        "ChangeDetectionStrategy\\.OnPush",
        "@Input\\(",
        "@Output\\(",
        "EventEmitter",
        "import.*from 'ng-zorro-antd",
        "Nz(Button|Card|Table|Form|Modal|Message|Spin|Skeleton|Input|Select|Grid|Avatar|Notification)Module",
        "Observable<",
        "BehaviorSubject<",
        "\\.(pipe|subscribe)\\(",
        "takeUntilDestroyed\\(\\)",
        "takeUntil\\(",
        "switchMap|map|tap|catchError|finalize|debounceTime",
        "ApiUserService|ApiPostService|Api.*Service",
        "@ai-nx-starter/(api-client|types)",
        "FormBuilder|FormGroup|Validators",
        "ReactiveFormsModule",
        "RouterModule|Router|ActivatedRoute",
        "loadComponent|loadChildren",
        "CanActivateFn",
        "@(padding|margin|text-color|primary-color|heading-color)",
        "trackBy"
      ]
    },
    "blockMessage": "âš ï¸ BLOCKED - Angular Frontend Best Practices Required\n\nðŸ“‹ REQUIRED ACTION:\n1. Use Skill tool: 'frontend-dev-guidelines'\n2. Review Angular 19 patterns (standalone components, OnPush, trackBy)\n3. Check NG-ZORRO component usage and LESS styling\n4. Verify RxJS patterns (BehaviorSubject, takeUntilDestroyed)\n5. Use auto-generated API client (@ai-nx-starter/api-client)\n6. Then retry this edit\n\nReason: Enforce Angular 19 best practices and NG-ZORRO patterns\nFile: {file_path}\n\nðŸ’¡ TIP: Add '// @skip-validation' comment to skip future checks",
    "skipConditions": {
      "sessionSkillUsed": true,
      "fileMarkers": ["@skip-validation"],
      "envOverride": "SKIP_FRONTEND_GUIDELINES"
    }
  },
  "notes": {
    "enforcement_types": {
      "suggest": "Skill suggestion appears but doesn't block execution",
      "block": "Requires skill to be used before proceeding (guardrail)",
      "warn": "Shows warning but allows proceeding"
    },
    "priority_levels": {
      "critical": "Highest - Always trigger when matched",
      "high": "Important - Trigger for most matches",
      "medium": "Moderate - Trigger for clear matches",
      "low": "Optional - Trigger only for explicit matches"
    },
    "customization": {
      "pathPatterns": "Adjust to match your project structure (blog-api, auth-service, etc.)",
      "keywords": "Add domain-specific terms relevant to your project",
      "intentPatterns": "Use regex for flexible user intent matching"
    }
  }
}
